<div id="wrapper">
  <form ngNativeValidate>
    <div *ngIf="service.changePasswordFailure && !service.incorrectCode" class="failure">
      <h4>There was an error saving the new password. Please try again</h4>
    </div>
    <div *ngIf="service.incorrectCode && !service.changePasswordFailure" class="failure">
      <h4>The code entered is incorrect. Please try again.</h4>
    </div>
    <div *ngIf="!passwordsMatch" class="failure">
      <h4>Please try again. The passwords entered do not match.</h4>
    </div>
    <h1>Change Password</h1>
    <div *ngIf="!service.codeConfirmed">
      <label for="code">Enter the code you received in your email</label>
      <br/>
      <input 
        [(ngModel)]="user.code"
        id="code"
        name="code"
        type="text"
        required
      />
      <br/>
      <br/>
    </div>
    <div *ngIf="service.codeConfirmed">
      <label for="password">Password</label>
      <br/>
      <i>Password should be 8-16 characters</i>
      <br/>
      <input 
        [(ngModel)]="user.password"
        id="passwordLog"
        name="password"
        type="password"
        minLength="8"
        maxlength="16"
        placeholder="Password"
        required
      />
      <br/>
      <br/>
      <label for="confirmPassword">Confirm Password</label>
      <br/>
      <input 
        [(ngModel)]="user.passwordConfirmation"
        id="passwordConfirmLog"
        name="confirmPassword"
        type="password"
        name="passwordConfirmation"
        minLength="8"
        maxLength="16"
        placeholder="Confirm Passsword"
        required
      />
      <br/>
    </div>
    <p class="login button">
      <input (click)="submit()" class="login-input" type="submit" value="Submit"/>
    </p>
  </form>
</div>
<br/>
